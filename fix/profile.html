<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laboratory Business Analytics</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="profileStyle.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,400;0,600;0,700;0,800;1,700;1,800&display=swap"
        rel="stylesheet">
</head>

<body>

    <nav class="sticky-navbar">
        <div class="logo-container">
            <div class="logo">
                <img src="../assets/img/logo.png" alt="Laboratorium Business Analytics Logo">
            </div>
            <div class="lab-name-container">
                <div class="lab-name">Laboratorium Business Analytics</div>
                <div class="lab-tagline">Transforming Data into Decisions</div>
            </div>
        </div>

        <ul class="nav-menu">
            <li class="nav-item">
                <a class="nav-link" href="../index.html">Beranda</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" href="profile.html">Profil</a>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#">
                    Publikasi
                    <i class="fas fa-chevron-down dropdown-icon"></i>
                </a>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="berita.html">Berita</a></li>
                    <li><a class="dropdown-item" href="galeri.html">Gallery</a></li>
                    <li><a class="dropdown-item" href="newsInputService.html">News Input Service</a></li>
                </ul>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#">
                    Peminjaman Lab
                    <i class="fas fa-chevron-down dropdown-icon"></i>
                </a>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="infoPeminjaman.html">Informasi Laboratorium</a></li>
                    <li><a class="dropdown-item" href="tableBooking.html">Table Peminjaman</a></li>
                    <li><a class="dropdown-item" href="booking.html">Pemesanan Lab</a></li>
                </ul>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="kontak.html">Kontak</a>
            </li>
        </ul>

        <button class="login-btn" onclick="window.location.href='../admin/login.html'">Login</button>
    </nav>

    <section class="hero-section">
        <div class="hero-rectangle">
            </div>
        <div class="hero-container">
            <div class="hero-inner-rectangle">
                </div>
            <div class="hero-text-content">
                <div class="about-overlay">
                    <span class="about-text">About</span>
                </div>
                <div class="title-content">
                    <h1 class="hero-main-title">
                        <span class="title-line">The Laboratory</span>
                        <span class="title-line business-analytics">Business Analytics</span>
                    </h1>
                    <p class="hero-detailed-description">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna aliqua.
                        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
                        commodo consequat.
                        Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
                        pariatur.
                        Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
                        anim id est laborum.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <nav class="section-navbar" id="sectionNavbar">
    <div class="section-nav-rectangle">
        <div class="section-nav-container">
            <div class="section-nav-container-wrapper">
                <ul class="section-nav-menu">
                    <li class="section-nav-item">
                        <a href="#visi-misi" class="section-nav-link active">
                            <span class="nav-text">Visi & Misi</span>
                        </a>
                    </li>
                    <li class="section-nav-item">
                        <a href="#roadmap" class="section-nav-link">
                            <span class="nav-text">Roadmap</span>
                        </a>
                    </li>
                    <li class="section-nav-item">
                        <a href="#struktur-organisasi" class="section-nav-link">
                            <span class="nav-text">Struktur Organisasi</span>
                        </a>
                    </li>
                    <li class="section-nav-item">
                        <a href="#research-focus" class="section-nav-link">
                            <span class="nav-text">Research Focus</span>
                        </a>
                    </li>
                    <li class="section-nav-item">
                        <a href="#anggota-laboratory" class="section-nav-link">
                            <span class="nav-text">Anggota</span>
                        </a>
                    </li>
                    <li class="section-nav-item">
                        <a href="#makna-logo-maskot" class="section-nav-link">
                            <span class="nav-text">Makna Logo & Maskot</span>
                        </a>
                    </li>
                </ul>
            </div>
            </div>
    </div>
</nav>

    <div class="container py-2">

        <div class="row mb-5" id="visi-misi">
            <div class="col-12">
                <h2 class="section-title mb-3">Visi & Misi</h2>
                <p class="section-description mb-5">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore
                    et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
                    aliquip ex ea commodo consequat.
                </p>
                <div class="vision-mission-card mb-4">
                    <h3 class="vision-mission-title">Visi</h3>
                    <p class="vision-mission-text">Menjadi laboratorium unggul rujukan nasional sebagai inkubator solusi
                        cerdas
                        berbasis data.</p>
                </div>
                <div class="vision-mission-card">
                    <h3 class="vision-mission-title">Misi</h3>
                    <ol class="vision-mission-list">
                        <li>Mengembangkan riset terapan</li>
                        <li>Mengintegrasikan berbagai disiplin ilmu</li>
                        <li>Membangun kemitraan strategis dengan industri</li>
                        <li>Mengembangkan talenta (dosen dan mahasiswa)</li>
                        <li>Menjalankan tata kelola laboratorium yang profesional, etis, dan berkelanjutan</li>
                    </ol>
                </div>
            </div>
        </div>

        <div class="py-5"></div>

        <div class="row align-items-center gx-lg-5" id="roadmap">
            <div class="col-lg-5 mb-4 mb-lg-0">
                <h2 class="roadmap-title mb-3">Road Map<br>Laboratory Business Analytics</h2>
                <p class="section-description">
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Dicta blanditiis dolorem debitis natus amet
                    nihil saepe sequi modi ipsum nemo. Ex doloribus consequuntur,
                    nesciunt temporibus aliquam commodi sit facilis? Voluptatem veritatis ipsam natus voluptatum,
                    laborum magni,
                    deserunt molestias atque temporibus architecto quia optio illum officia provident voluptas explicabo
                    ad aut sunt repudiandae nulla non laboriosam! Assumenda dolorem,
                    quia omnis deserunt voluptates sint eveniet libero autem, inventore sapiente eaque commodi,
                    reiciendis alias provident! Vero, cumque reprehenderit.
                </p>
            </div>

            <div class="col-lg-7">
                <div class="roadmap-container">
                    <div class="roadmap-track">
                        <div class="roadmap-card main-card active" data-period="short">
                            <div class="roadmap-header">
                                <span class="dot-indicator"></span>
                                <h4 class="term-title">Short Term (3-5 years)</h4>
                            </div>
                            <hr class="roadmap-divider">
                            <div class="roadmap-content">
                                <p class="mb-2"><strong>Kualitas Lulusan:</strong> Proguskan makshan muk-hol jokka
                                    modeli mkajar akaja</p>
                                <p class="mb-2"><strong>Ilmu:</strong> Fondasi hale kengnan & renesund danet alkujulna
                                </p>
                                <p class="mb-0"><strong>Masyarakat/Industri:</strong> Siqul kasaa awal & porakanohpuan
                                    ringan</p>
                            </div>
                        </div>

                        <div class="roadmap-card main-card" data-period="medium">
                            <div class="roadmap-header">
                                <span class="dot-indicator"></span>
                                <h4 class="term-title">Medium Term (6-10 years)</h4>
                            </div>
                            <hr class="roadmap-divider">
                            <div class="roadmap-content">
                                <p class="mb-2"><strong>Kualitas Lulusan:</strong> Konsistensi asesmen & sertifikasi
                                    propuk tintea anita-kualita</p>
                                <p class="mb-2"><strong>Ilmu:</strong> Jongta Patsang (>10 tahun) Kualitas Lukanar
                                    linni, kaatan rnet & datasat maksaan</p>
                                <p class="mb-0"><strong>Masyarakat/Industri:</strong> Kemiraan multi-tahun & magang
                                    teatraktaz</p>
                            </div>
                        </div>

                        <div class="roadmap-card main-card" data-period="long">
                            <div class="roadmap-header">
                                <span class="dot-indicator"></span>
                                <h4 class="term-title">Long Term (>10 years)</h4>
                            </div>
                            <hr class="roadmap-divider">
                            <div class="roadmap-content">
                                <p class="mb-2"><strong>Kualitas Lulusan:</strong> Proguskan tantasek - titturautaneik
                                </p>
                                <p class="mb-2"><strong>Ilmu:</strong> Finset kernogulla & kurasi data tematik nagusta
                                </p>
                                <p class="mb-0"><strong>Masyarakat/Industri:</strong> Lagawan solusi stip pakai &
                                    berbusta data</p>
                            </div>
                        </div>
                    </div>

                    <div class="roadmap-indicators">
                        <button class="indicator active" data-period="short"></button>
                        <button class="indicator" data-period="medium"></button>
                        <button class="indicator" data-period="long"></button>
                    </div>
                </div>
            </div>
        </div>

        <div class="py-4"></div>

        <div class="org-structure py-5" id="struktur-organisasi">
            <h2 class="section-title mb-3">Struktur Organisasi</h2>
            <p class="section-description mb-5">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip
                ex ea commodo consequat.
            </p>

            <div class="tree-container">
                <div class="tree">
                    <ul>
                        <li>
                            <div class="org-node main-node">
                                <span>Kepala Laboratory</span>
                            </div>
                            <ul>
                                <li class="support-row">
                                    <div class="org-node child-node">
                                        <span>Sekretaris</span>
                                    </div>
                                    <div class="org-node child-node">
                                        <span>Bendahara</span>
                                    </div>
                                </li>

                                <li class="coordinator-row">
                                    <div class="coordinator-container">
                                        <div class="org-node child-node">
                                            <span>Koor. Pengembangan Kelimuan</span>
                                        </div>
                                        <div class="org-node child-node">
                                            <span>Koor. Riset & PkM</span>
                                        </div>
                                        <div class="org-node child-node">
                                            <span>Koor. Kemitraan</span>
                                        </div>
                                        <div class="org-node child-node">
                                            <span>Koor. Sarana & Prasarana</span>
                                        </div>
                                        <div class="org-node child-node">
                                            <span>Koor. Publikasi</span>
                                        </div>
                                        <div class="org-node child-node">
                                            <span>Koor. Pengelolaan Tugas Akhir</span>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

      <div class="researcher-section py-4" id="anggota-laboratory">
            <h2 class="section-title mb-5">Anggota Laboratory</h2>
            
            <div class="member-carousel-container">
                <div class="member-carousel-track-wrapper">
                    <div class="member-carousel-track" id="memberTrack">
                        
                        <div class="member-card main-member-card">
                            <div class="member-photo-container">
                                <img src="../assets/img/member-head.jpg" alt="Foto Kepala Laboratorium" class="member-photo">
                            </div>
                            <div class="member-details">
                                <h4 class="member-name">Nama Kepala Lab</h4>
                                <p class="member-title">Kepala Laboratory</p>
                                <p class="member-nim">NIP: 198001012005011001</p>
                                <div class="member-social">
                                    <a href="#"><i class="fas fa-envelope"></i></a>
                                    <a href="#"><i class="fab fa-linkedin"></i></a>
                                </div>
                            </div>
                        </div>
                        
                        <div class="member-card">
                            <div class="member-photo-container">
                                <img src="../assets/img/member-1.jpg" alt="Foto Anggota 1" class="member-photo">
                            </div>
                            <div class="member-details">
                                <h4 class="member-name">Nama Anggota 1</h4>
                                <p class="member-title">Staf Koordinator</p>
                                <p class="member-nim">NIP: 198505052010021002</p>
                                <div class="member-social">
                                    <a href="#"><i class="fas fa-envelope"></i></a>
                                    <a href="#"><i class="fab fa-linkedin"></i></a>
                                </div>
                            </div>
                        </div>

                        <div class="member-card">
                            <div class="member-photo-container">
                                <img src="../assets/img/member-2.jpg" alt="Foto Anggota 2" class="member-photo">
                            </div>
                            <div class="member-details">
                                <h4 class="member-name">Nama Anggota 2</h4>
                                <p class="member-title">Peneliti Utama</p>
                                <p class="member-nim">NIP: 197803152008011003</p>
                                <div class="member-social">
                                    <a href="#"><i class="fas fa-envelope"></i></a>
                                    <a href="#"><i class="fab fa-linkedin"></i></a>
                                </div>
                            </div>
                        </div>

                        <div class="member-card">
                            <div class="member-photo-container">
                                <img src="../assets/img/member-3.jpg" alt="Foto Anggota 3" class="member-photo">
                            </div>
                            <div class="member-details">
                                <h4 class="member-name">Nama Anggota 3</h4>
                                <p class="member-title">Asisten Lab</p>
                                <p class="member-nim">NIP: 199009092015031004</p>
                                <div class="member-social">
                                    <a href="#"><i class="fas fa-envelope"></i></a>
                                    <a href="#"><i class="fab fa-linkedin"></i></a>
                                </div>
                            </div>
                        </div>
                        
                        </div>
                </div>
                
                <button class="carousel-btn prev" id="memberPrevBtn" aria-label="Previous member">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="carousel-btn next" id="memberNextBtn" aria-label="Next member">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>

        </div>

        <div class="py-5"></div>

        <div class="row mb-5" id="makna-logo-maskot">
            <div class="col-12">
                <h2 class="section-title mb-3">Makna Logo & Maskot</h2>
                <p class="section-description mb-5">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore
                    et dolore magna aliqua. Ut enim ad minim
                    veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                </p>
            </div>

            <div class="row align-items-start">
                <div class="col-lg-6 mb-5 mb-lg-0">
                    <div class="logo-section">
                        <div class="symbol-preview-large mb-4">
                            <div class="symbol-placeholder-large logo-placeholder">
                                <span class="symbol-text-large">LOGO</span>
                            </div>
                        </div>
                        <h3 class="symbol-title mb-4">Makna Logo</h3>
                        <div class="symbol-content mb-4">
                            <p class="symbol-description">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                incididunt ut labore et dolore magna aliqua. Ut enim ad minim
                                veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                                consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore
                                eu fugiat nulla pariatur.
                            </p>
                            <p class="symbol-description">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                                exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                            </p>
                        </div>
                        <div class="text-start">
                            <a href="maknaLogo.html" class="btn-read-more">Read More</a>
                        </div>
                    </div>
                </div>

                <div class="col-lg-6">
                    <div class="mascot-section">
                        <h3 class="symbol-title mb-4">Makna Maskot</h3>
                        <div class="symbol-content mb-4">
                            <p class="symbol-description">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                incididunt ut labore et dolore magna aliqua. Ut enim
                                ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                                consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore
                                eu fugiat nulla pariatur.
                            </p>
                            <p class="symbol-description">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                                exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                            </p>
                        </div>
                        <div class="text-start mb-4">
                            <a href="maknaMaskot.html" class="btn-read-more">Read More</a>
                        </div>
                        <div class="symbol-preview-large">
                            <div class="symbol-placeholder-large mascot-placeholder">
                                <span class="symbol-text-large">MASKOT</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="py-5"></div>

        <section class="profile-carousel-section" id="research-focus">
        <div class="custom-container-relative">
            <div class="gray-backdrop-box">
                <img id="backdrop-image" src="./assets/imgAdek/Kotak.jpg" alt="Research Project Image"
                    class="backdrop-img-content">
            </div>
            <div class="carousel-wrapper">
                <div class="carousel-track" id="track">
                    <div class="custom-card" data-bg-img="./assets/imgAdek/Kotak.jpg">
                        <div class="card-content">
                            <h3>Project 1</h3>
                            <p>Deskripsi singkat 1</p>
                        </div>
                    </div>
                    <div class="custom-card" data-bg-img="./assets/imgAdek/Kotak1.jpg">
                        <div class="card-content">
                            <h3>Project 2</h3>
                            <p>Deskripsi singkat 2</p>
                        </div>
                    </div>
                    <div class="custom-card" data-bg-img="./assets/imgAdek/Kotak2.JPG">
                        <div class="card-content">
                            <h3>Project 3</h3>
                            <p>Deskripsi singkat 3</p>
                        </div>
                    </div>
                    <div class="custom-card" data-bg-img="./assets/imgAdek/Kecil.jpg">
                        <div class="card-content">
                            <h3>Project 4</h3>
                            <p>Deskripsi singkat 4</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="carousel-nav">
                <button class="nav-btn prev-btn" id="prevBtn">
                    <i class="fa fa-arrow-left"></i>
                </button>
                <button class="nav-btn next-btn" id="nextBtn">
                    <i class="fa fa-arrow-right"></i>
                </button>
            </div>
        </div>
    </section>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        /* ========================================= */
        /* ROADMAP CAROUSEL FUNCTIONALITY */
        /* ========================================= */
        class RoadmapCarousel {
            constructor() {
                this.cards = document.querySelectorAll('.roadmap-card');
                this.indicators = document.querySelectorAll('.indicator');
                this.track = document.querySelector('.roadmap-track');
                this.currentIndex = 0;
                this.totalCards = this.cards.length;
                this.autoSlideInterval = null;
                this.slideDuration = 3000; // 3 detik

                this.init();
            }

            /* ========================================= */
            /* INITIALIZE ROADMAP CAROUSEL */
            /* ========================================= */
            init() {
                // Set initial positions
                this.updateCardPositions();

                // Start auto slide
                this.startAutoSlide();

                // Add click events to indicators
                this.indicators.forEach((indicator, index) => {
                    indicator.addEventListener('click', () => {
                        this.goToSlide(index);
                    });
                });

                // Pause on hover
                this.track.addEventListener('mouseenter', () => {
                    this.stopAutoSlide();
                });

                this.track.addEventListener('mouseleave', () => {
                    this.startAutoSlide();
                });
            }

            /* ========================================= */
            /* UPDATE CARD POSITIONS AND STATES */
            /* ========================================= */
            updateCardPositions() {
                this.cards.forEach((card, index) => {
                    card.classList.remove('active', 'prev', 'next');

                    if (index === this.currentIndex) {
                        card.classList.add('active');
                    } else if (index === (this.currentIndex + 1) % this.totalCards) {
                        card.classList.add('next');
                    } else if (index === (this.currentIndex - 1 + this.totalCards) % this.totalCards) {
                        card.classList.add('prev');
                    }
                });

                // Update indicators
                this.indicators.forEach((indicator, index) => {
                    indicator.classList.toggle('active', index === this.currentIndex);
                });
            }

            /* ========================================= */
            /* NAVIGATE TO NEXT SLIDE */
            /* ========================================= */
            nextSlide() {
                this.currentIndex = (this.currentIndex + 1) % this.totalCards;
                this.updateCardPositions();
            }

            /* ========================================= */
            /* NAVIGATE TO PREVIOUS SLIDE */
            /* ========================================= */
            prevSlide() {
                this.currentIndex = (this.currentIndex - 1 + this.totalCards) % this.totalCards;
                this.updateCardPositions();
            }

            /* ========================================= */
            /* GO TO SPECIFIC SLIDE */
            /* ========================================= */
            goToSlide(index) {
                this.currentIndex = index;
                this.updateCardPositions();
                this.restartAutoSlide();
            }

            /* ========================================= */
            /* AUTO SLIDE CONTROLS */
            /* ========================================= */
            startAutoSlide() {
                this.stopAutoSlide();
                this.autoSlideInterval = setInterval(() => {
                    this.nextSlide();
                }, this.slideDuration);
            }

            stopAutoSlide() {
                if (this.autoSlideInterval) {
                    clearInterval(this.autoSlideInterval);
                    this.autoSlideInterval = null;
                }
            }

            restartAutoSlide() {
                this.stopAutoSlide();
                this.startAutoSlide();
            }
        }

        /* ========================================= */
        /* RESEARCH FOCUS CAROUSEL FUNCTIONALITY */
        /* ========================================= */
        class ResearchFocusCarousel {
            constructor() {
                this.track = document.getElementById('track');
                this.prevBtn = document.getElementById('prevBtn');
                this.nextBtn = document.getElementById('nextBtn');
                this.backdropImage = document.getElementById('backdrop-image');
                this.isAnimating = false;

                this.init();
            }

            /* ========================================= */
            /* INITIALIZE RESEARCH FOCUS CAROUSEL */
            /* ========================================= */
            init() {
                // Add event listeners for navigation buttons
                this.nextBtn.addEventListener('click', () => this.moveNext());
                this.prevBtn.addEventListener('click', () => this.movePrev());

                // Initialize active state
                this.updateActiveState();
            }

            /* ========================================= */
            /* GET ALL CARDS IN CAROUSEL */
            /* ========================================= */
            getCards() {
                return document.querySelectorAll('.custom-card');
            }

            /* ========================================= */
            /* UPDATE ACTIVE CARD STATE AND BACKGROUND */
            /* ========================================= */
            updateActiveState() {
                const cards = this.getCards();

                // Reset all cards to inactive
                cards.forEach(c => c.classList.remove('active'));

                // First card in DOM is the active one
                const activeCard = cards[0];
                activeCard.classList.add('active');

                // Get background image URL from active card
                const newImageSrc = activeCard.getAttribute('data-bg-img');

                // Smooth transition effect for background image
                this.backdropImage.classList.add('fade-out');

                setTimeout(() => {
                    this.backdropImage.src = newImageSrc;
                    this.backdropImage.classList.remove('fade-out');
                }, 300); // Match CSS opacity duration
            }

            /* ========================================= */
            /* MOVE CAROUSEL TO NEXT CARD */
            /* ========================================= */
            moveNext() {
                if (this.isAnimating) return;
                this.isAnimating = true;

                const cards = this.getCards();
                const cardWidth = cards[0].offsetWidth;
                const gap = 24; // CSS gap value
                const moveDistance = cardWidth + gap;

                // 1. Move track to the left
                this.track.style.transition = 'transform 0.5s ease-in-out';
                this.track.style.transform = `translateX(-${moveDistance}px)`;

                // 2. After animation completes, move DOM elements
                setTimeout(() => {
                    this.track.style.transition = 'none'; // Disable animation temporarily

                    // Move first card to the end
                    this.track.appendChild(cards[0]);

                    // Reset track position to 0
                    this.track.style.transform = 'translateX(0)';

                    // Update active state and background image
                    this.updateActiveState();

                    this.isAnimating = false;
                }, 500); // Match CSS transition duration
            }

            /* ========================================= */
            /* MOVE CAROUSEL TO PREVIOUS CARD */
            /* ========================================= */
            movePrev() {
                if (this.isAnimating) return;
                this.isAnimating = true;

                const cards = this.getCards();
                const lastCard = cards[cards.length - 1];
                const cardWidth = cards[0].offsetWidth;
                const gap = 24;
                const moveDistance = cardWidth + gap;

                // 1. Move last card to the front first (instantly)
                this.track.style.transition = 'none';
                this.track.prepend(lastCard);

                // 2. Move track to negative position (as if not moved yet)
                this.track.style.transform = `translateX(-${moveDistance}px)`;

                // 3. Force Reflow (make browser aware of position change)
                void this.track.offsetWidth;

                // 4. Animate back to 0
                this.track.style.transition = 'transform 0.5s ease-in-out';
                this.track.style.transform = 'translateX(0)';

                setTimeout(() => {
                    this.updateActiveState();
                    this.isAnimating = false;
                }, 500);
            }
        }

        /* ========================================= */
        /* SECTION NAVIGATION FUNCTIONALITY */
        /* ========================================= */
        class SectionNavigation {
            constructor() {
                // Pastikan id="sectionNavbar" sudah ada di elemen nav
                this.sectionNavbar = document.getElementById('sectionNavbar'); 
                this.sectionLinks = document.querySelectorAll('.section-nav-link');
                this.sections = [];
                // Menggunakan class sticky-navbar, karena tidak ada id mainNavbar di HTML yang disediakan
                this.navbarHeight = document.querySelector('.sticky-navbar').offsetHeight; 
                this.sectionNavbarHeight = this.sectionNavbar ? this.sectionNavbar.offsetHeight : 0;
                this.currentActive = null;

                this.init();
            }

            /* ========================================= */
            /* INITIALIZE SECTION NAVIGATION */
            /* ========================================= */
            init() {
                // Collect all sections with IDs that are targeted by navigation
                const targetIds = ['visi-misi', 'roadmap', 'struktur-organisasi', 'anggota-laboratory', 'makna-logo-maskot', 'research-focus'];

                targetIds.forEach(id => {
                    const section = document.getElementById(id);
                    if (section) {
                        this.sections.push(section);
                    }
                });

                // Add click event to section links with PROPER scroll
                this.sectionLinks.forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const targetId = link.getAttribute('href').substring(1);
                        this.scrollToSection(targetId);

                        // Update active state immediately
                        this.sectionLinks.forEach(l => l.classList.remove('active'));
                        link.classList.add('active');
                    });
                });

                let scrollTimeout;
                window.addEventListener('scroll', () => {
                    if (!scrollTimeout) {
                        scrollTimeout = setTimeout(() => {
                            this.updateActiveSection();
                            scrollTimeout = null;
                        }, 10);
                    }
                });

                // Initial update
                this.updateActiveSection();
            }

            /* ========================================= */
            /* SMOOTH SCROLL TO SPECIFIC SECTION */
            /* ========================================= */
            scrollToSection(sectionId) {
                const targetSection = document.getElementById(sectionId);

                if (targetSection) {
                    // Calculate offset - IMPROVED for precise scrolling
                    const offsetTop = targetSection.offsetTop - this.navbarHeight - this.sectionNavbarHeight - 10;

                    console.log('Scrolling to:', sectionId, 'Offset:', offsetTop); // Debug log

                    // Use smooth scroll if supported
                    if ('scrollBehavior' in document.documentElement.style) {
                        window.scrollTo({
                            top: Math.max(0, offsetTop), // Ensure not negative
                            behavior: 'smooth'
                        });
                    } else {
                        // Fallback for older browsers
                        window.scrollTo(0, Math.max(0, offsetTop));
                    }
                }
            }

            /* ========================================= */
            /* UPDATE ACTIVE SECTION BASED ON SCROLL POSITION */
            /* ========================================= */
            updateActiveSection() {
                let currentSection = '';
                const scrollPosition = window.scrollY + this.navbarHeight + this.sectionNavbarHeight + 50; // Reduced threshold

                // Find currently active section
                this.sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.offsetHeight;
                    const sectionId = section.getAttribute('id');

                    // Debug log for position tracking
                    if (sectionId === 'visi-misi') {
                        console.log('Visi Misi - Top:', sectionTop, 'Scroll Pos:', scrollPosition);
                    }

                    if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight && sectionId) {
                        currentSection = sectionId;
                    }
                });

                // If no active section, find the closest one
                if (!currentSection && this.sections.length > 0) {
                    let closestSection = this.sections[0];
                    let closestDistance = Math.abs(this.sections[0].offsetTop - scrollPosition);

                    this.sections.forEach(section => {
                        const distance = Math.abs(section.offsetTop - scrollPosition);
                        if (distance < closestDistance) {
                            closestDistance = distance;
                            closestSection = section;
                        }
                    });

                    currentSection = closestSection.getAttribute('id');
                }

                if (currentSection && currentSection !== this.currentActive) {
                    this.currentActive = currentSection;

                    console.log('Active section changed to:', currentSection); // Debug log

                    // Update active link
                    this.sectionLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === `#${currentSection}`) {
                            link.classList.add('active');
                        }
                    });
                }
            }

            /* ========================================= */
            /* HANDLE SECTION NAVBAR VISIBILITY */
            /* ========================================= */
            handleSectionNavbarVisibility() {
                const heroSection = document.querySelector('.hero-section');
                if (!heroSection) return;

                const heroBottom = heroSection.offsetTop + heroSection.offsetHeight;
                const scrollPosition = window.scrollY;

                if (scrollPosition >= heroBottom - this.navbarHeight) {
                    this.sectionNavbar.style.position = 'fixed';
                    this.sectionNavbar.style.top = `${this.navbarHeight}px`;
                    this.sectionNavbar.style.width = '100%';
                } else {
                    this.sectionNavbar.style.position = 'sticky';
                    this.sectionNavbar.style.top = `${this.navbarHeight}px`;
                    this.sectionNavbar.style.width = '100%';
                }
            }
        }

        /* ========================================= */
        /* NAVBAR SCROLL BEHAVIOR (DIPERBAIKI DENGAN SELECTOR YANG ADA) */
        /* ========================================= */
        class NavbarScrollBehavior {
            constructor() {
                // Menggunakan class .sticky-navbar karena tidak ada id mainNavbar
                this.mainNavbar = document.querySelector('.sticky-navbar'); 
                this.sectionNavbar = document.getElementById('sectionNavbar');
                this.lastScrollY = window.scrollY;
                this.scrollThreshold = 100; // Pixels to scroll before main navbar hides
                this.isMainNavHidden = false;

                this.init();
            }

            /* ========================================= */
            /* INITIALIZE NAVBAR SCROLL BEHAVIOR */
            /* ========================================= */
            init() {
                window.addEventListener('scroll', () => {
                    this.handleScroll();
                });

                // Initial check
                this.handleScroll();
            }

            /* ========================================= */
            /* HANDLE SCROLL EVENTS FOR NAVBAR */
            /* ========================================= */
            handleScroll() {
                const currentScrollY = window.scrollY;
                const scrollDirection = currentScrollY > this.lastScrollY ? 'down' : 'up';

                // Jika scrolling ke bawah melewati threshold, sembunyikan main navbar
                if (scrollDirection === 'down' && currentScrollY > this.scrollThreshold && !this.isMainNavHidden) {
                    this.hideMainNavbar();
                }
                // Jika scrolling ke atas, tampilkan main navbar
                else if (scrollDirection === 'up' && this.isMainNavHidden) {
                    this.showMainNavbar();
                }
                // Jika berada di paling atas, pastikan main navbar terlihat
                else if (currentScrollY <= this.scrollThreshold && this.isMainNavHidden) {
                    this.showMainNavbar();
                }

                this.lastScrollY = currentScrollY;
            }

            /* ========================================= */
            /* HIDE MAIN NAVBAR */
            /* ========================================= */
            hideMainNavbar() {
                if(this.mainNavbar) this.mainNavbar.classList.add('hidden');
                if(this.sectionNavbar) this.sectionNavbar.classList.add('main-sticky');
                document.body.classList.add('nav-main-hidden');
                this.isMainNavHidden = true;
            }

            /* ========================================= */
            /* SHOW MAIN NAVBAR */
            /* ========================================= */
            showMainNavbar() {
                if(this.mainNavbar) this.mainNavbar.classList.remove('hidden');
                if(this.sectionNavbar) this.sectionNavbar.classList.remove('main-sticky');
                document.body.classList.remove('nav-main-hidden');
                this.isMainNavHidden = false;
            }
        }

        /* ========================================= */
        /* COMPACT NAVBAR ON SCROLL (DIPERBAIKI DENGAN SELECTOR YANG ADA) */
        /* ========================================= */
        class CompactNavbar {
            constructor() {
                 // Menggunakan class .sticky-navbar karena tidak ada id mainNavbar
                this.mainNavbar = document.querySelector('.sticky-navbar'); 
                this.compactThreshold = 50;

                this.init();
            }

            /* ========================================= */
            /* INITIALIZE COMPACT NAVBAR */
            /* ========================================= */
            init() {
                window.addEventListener('scroll', () => {
                    this.toggleCompact();
                });
            }

            /* ========================================= */
            /* TOGGLE COMPACT STATE BASED ON SCROLL */
            /* ========================================= */
            toggleCompact() {
                if (!this.mainNavbar) return;

                if (window.scrollY > this.compactThreshold) {
                    this.mainNavbar.classList.add('compact');
                } else {
                    this.mainNavbar.classList.remove('compact');
                }
            }
        }

        /* ========================================= */
        /* MAIN INITIALIZATION WHEN DOM IS READY */
        /* ========================================= */
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize all components

            // Initialize Roadmap Carousel if exists
            const roadmapCards = document.querySelectorAll('.roadmap-card');
            if (roadmapCards.length > 0) {
                new RoadmapCarousel();
            }

            // Initialize Research Focus Carousel if exists
            const researchTrack = document.getElementById('track');
            if (researchTrack) {
                new ResearchFocusCarousel();
            }

            // Initialize navigation components
            new SectionNavigation();
            new NavbarScrollBehavior();
            new CompactNavbar();

            console.log('All JavaScript components initialized successfully');
        });

        /* ========================================= */
        /* FALLBACK FOR SMOOTH SCROLL IN OLD BROWSERS */
        /* ========================================= */
        if (!('scrollBehavior' in document.documentElement.style)) {
            document.querySelectorAll('.section-nav-link').forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetSection = document.getElementById(targetId);

                    if (targetSection) {
                        const navbar = document.querySelector('.sticky-navbar');
                        const sectionNav = document.querySelector('.section-navbar');
                        const offsetTop = targetSection.offsetTop -
                            (navbar ? navbar.offsetHeight : 0) -
                            (sectionNav ? sectionNav.offsetHeight : 0) - 10;

                        window.scrollTo(0, Math.max(0, offsetTop));
                    }
                });
            });
        }
        /* ========================================= */
/* MEMBER CAROUSEL FUNCTIONALITY - BARU */
/* ========================================= */
class MemberCarousel {
    constructor() {
        this.track = document.getElementById('memberTrack');
        this.prevBtn = document.getElementById('memberPrevBtn');
        this.nextBtn = document.getElementById('memberNextBtn');
        this.cards = Array.from(this.track.children);
        this.cardCount = this.cards.length;
        this.cardMargin = 20; // Sesuai gap di CSS
        this.isAnimating = false;

        this.init();
    }

    init() {
        if (!this.track) return;
        
        this.nextBtn.addEventListener('click', () => this.moveNext());
        this.prevBtn.addEventListener('click', () => this.movePrev());
        
        // Initial setup for mobile view (show scrollbar or center first card if needed)
        this.updateButtonsVisibility();

        window.addEventListener('resize', () => {
             this.updateButtonsVisibility();
        });
    }

    getVisibleCards() {
        // Mendapatkan lebar satu kartu + margin/gap
        const cardWidth = this.cards[0].offsetWidth;
        return cardWidth + this.cardMargin;
    }

    updateButtonsVisibility() {
        // Logika sederhana: sembunyikan tombol jika semua kartu muat di layar.
        // Di sini kita hanya akan memastikan tombol bekerja, dan CSS akan mengurus scroll.
        // Kita bisa menyembunyikan tombol jika jumlah card kecil (misal < 5)
        if (this.cardCount < 5 || window.innerWidth <= 768) {
            // Biasanya di mobile, kita biarkan user swipe (CSS overflow-x: scroll)
            this.prevBtn.style.display = 'none';
            this.nextBtn.style.display = 'none';
        } else {
            this.prevBtn.style.display = 'block';
            this.nextBtn.style.display = 'block';
        }
    }

    moveNext() {
        if (this.isAnimating || this.cardCount <= 1) return;
        this.isAnimating = true;

        const cardToMove = this.cards[0];
        const moveDistance = cardToMove.offsetWidth + this.cardMargin;

        this.track.style.transition = 'transform 0.5s ease-in-out';
        this.track.style.transform = `translateX(-${moveDistance}px)`;

        setTimeout(() => {
            this.track.style.transition = 'none';
            this.track.appendChild(cardToMove);
            this.track.style.transform = 'translateX(0)';
            
            // Update cards array order
            this.cards.shift();
            this.cards.push(cardToMove);
            
            this.isAnimating = false;
        }, 500);
    }

    movePrev() {
        if (this.isAnimating || this.cardCount <= 1) return;
        this.isAnimating = true;

        const lastCard = this.cards[this.cardCount - 1];
        const moveDistance = lastCard.offsetWidth + this.cardMargin;

        this.track.style.transition = 'none';
        this.track.prepend(lastCard);
        this.track.style.transform = `translateX(-${moveDistance}px)`;
        
        // Force reflow/repaint to apply initial transform instantly
        void this.track.offsetWidth; 
        
        this.track.style.transition = 'transform 0.5s ease-in-out';
        this.track.style.transform = 'translateX(0)';

        // Update cards array order
        this.cards.pop();
        this.cards.unshift(lastCard);
        
        setTimeout(() => {
            this.isAnimating = false;
        }, 500);
    }
}
const memberTrack = document.getElementById('memberTrack'); // BARU
    if (memberTrack) {
        new MemberCarousel(); // BARU
    }
    </script>
</body>

</html>